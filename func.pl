:- use_module(library(clpfd)).
changeToDomain(List,1,Y1):-
nth0(0,List,X1),
Y1 in X1.
changeToDomain(List,2,Y1):-
nth0(0,List,X1),
nth0(1,List,X2),
Y1 in X1 \/ X2.
changeToDomain(List,3,Y1):-
nth0(0,List,X1),
nth0(1,List,X2),
nth0(2,List,X3),
Y1 in X1 \/ X2 \/ X3.
changeToDomain(List,4,Y1):-
nth0(0,List,X1),
nth0(1,List,X2),
nth0(2,List,X3),
nth0(3,List,X4),
Y1 in X1 \/ X2 \/ X3 \/ X4.
changeToDomain(List,5,Y1):-
nth0(0,List,X1),
nth0(1,List,X2),
nth0(2,List,X3),
nth0(3,List,X4),
nth0(4,List,X5),
Y1 in X1 \/ X2 \/ X3 \/ X4 \/ X5.
changeToDomain(List,6,Y1):-
nth0(0,List,X1),
nth0(1,List,X2),
nth0(2,List,X3),
nth0(3,List,X4),
nth0(4,List,X5),
nth0(5,List,X6),
Y1 in X1 \/ X2 \/ X3 \/ X4 \/ X5 \/ X6.
changeToDomain(List,7,Y1):-
nth0(0,List,X1),
nth0(1,List,X2),
nth0(2,List,X3),
nth0(3,List,X4),
nth0(4,List,X5),
nth0(5,List,X6),
nth0(6,List,X7),
Y1 in X1 \/ X2 \/ X3 \/ X4 \/ X5 \/ X6 \/ X7.
changeToDomain(List,8,Y1):-
nth0(0,List,X1),
nth0(1,List,X2),
nth0(2,List,X3),
nth0(3,List,X4),
nth0(4,List,X5),
nth0(5,List,X6),
nth0(6,List,X7),
nth0(7,List,X8),
Y1 in X1 \/ X2 \/ X3 \/ X4 \/ X5 \/ X6 \/ X7 \/ X8.
changeToDomain(List,9,Y1):-
nth0(0,List,X1),
nth0(1,List,X2),
nth0(2,List,X3),
nth0(3,List,X4),
nth0(4,List,X5),
nth0(5,List,X6),
nth0(6,List,X7),
nth0(7,List,X8),
Y1 in X1 \/ X2 \/ X3 \/ X4 \/ X5 \/ X6 \/ X7 \/ X8.
changeToDomain(X,List):-
length(List,W1),
changeToDomain(List,W1,Y1),
X = Y1.
transform([],[1,2,3,4,5,6,7,8,9]).
transform(1,[1]).
transform(2,[2]).
transform(3,[3]).
transform(4,[4]).
transform(5,[5]).
transform(6,[6]).
transform(7,[7]).
transform(8,[8]).
transform(9,[9]).
different(X) :-
sort(X, Sorted),
length(X, OriginalLength),
length(Sorted, SortedLength),
OriginalLength == SortedLength.
intersection(X,Y,Z,A):-
intersection(X,Y,N1),
intersection(N1,Z,N2),
A = N2.
subtract(L,_,L,1).
subtract(A,B,C,_):-
subtract(A,B,C).
goal(9,_,_,_,_).
goal(1,X,L,_,NEW):-
nth0(0,L,Y1),
nth0(1,L,Y2),
nth0(2,L,Y3),
nth0(3,L,Y4),
nth0(4,L,Y5),
nth0(5,L,Y6),
nth0(6,L,Y7),
nth0(7,L,Y8),
nth0(8,L,Y9),
length(Y1,W1),
length(Y2,W2),
length(Y3,W3),
length(Y4,W4),
length(Y5,W5),
length(Y6,W6),
length(Y7,W7),
length(Y8,W8),
length(Y9,W9),
subtract(Y1,X,L1,W1),
subtract(Y2,X,L2,W2),
subtract(Y3,X,L3,W3),
subtract(Y4,X,L4,W4),
subtract(Y5,X,L5,W5),
subtract(Y6,X,L6,W6),
subtract(Y7,X,L7,W7),
subtract(Y8,X,L8,W8),
subtract(Y9,X,L9,W9),
LR = [L1,L2,L3,L4,L5,L6,L7,L8,L9],
NEW = LR.
goal(_,_,_,_,_).
discover(_,LEN,LEN,N1,LEN,RE):-
RE = N1.
discover(L1,LEN,LEN,_,_,RE):-
RE = L1.
discover(L,IN1,LEN,_,0,RE):-
reduce(L,IN1,LEN,RE).
discover(_,IN1,LEN,N1,_,RE):-
reduce(N1,IN1,LEN,RE).
reduce(_,LEN,LEN,_):- !.
reduce(L,IN,LEN,RES):-
nth0(IN,L,X),
length(X,Y),
goal(Y,X,L,IN,N),
length(N,W1),
IN1 is IN + 1,
discover(L,IN1,LEN,N,W1,RESULT),
RES = RESULT,
!.
sudoku(Solution,Puzzle):-
Solution1 = Puzzle,
Solution1 = [[A11,A22,A33,A44,A55,A66,A77,A88,A99],
[B11,B22,B33,B44,B55,B66,B77,B88,B99],
[C11,C22,C33,C44,C55,C66,C77,C88,C99],
[D11,D22,D33,D44,D55,D66,D77,D88,D99],
[E11,E22,E33,E44,E55,E66,E77,E88,E99],
[F11,F22,F33,F44,F55,F66,F77,F88,F99],
[G11,G22,G33,G44,G55,G66,G77,G88,G99],
[H11,H22,H33,H44,H55,H66,H77,H88,H99],
[I11,I22,I33,I44,I55,I66,I77,I88,I99]],
transform(A11,A1),
transform(A22,A2),
transform(A33,A3),
transform(A44,A4),
transform(A55,A5),
transform(A66,A6),
transform(A77,A7),
transform(A88,A8),
transform(A99,A9),
transform(B11,B1),
transform(B22,B2),
transform(B33,B3),
transform(B44,B4),
transform(B55,B5),
transform(B66,B6),
transform(B77,B7),
transform(B88,B8),
transform(B99,B9),
transform(C11,C1),
transform(C22,C2),
transform(C33,C3),
transform(C44,C4),
transform(C55,C5),
transform(C66,C6),
transform(C77,C7),
transform(C88,C8),
transform(C99,C9),
transform(D11,D1),
transform(D22,D2),
transform(D33,D3),
transform(D44,D4),
transform(D55,D5),
transform(D66,D6),
transform(D77,D7),
transform(D88,D8),
transform(D99,D9),
transform(E11,E1),
transform(E22,E2),
transform(E33,E3),
transform(E44,E4),
transform(E55,E5),
transform(E66,E6),
transform(E77,E7),
transform(E88,E8),
transform(E99,E9),
transform(F11,F1),
transform(F22,F2),
transform(F33,F3),
transform(F44,F4),
transform(F55,F5),
transform(F66,F6),
transform(F77,F7),
transform(F88,F8),
transform(F99,F9),
transform(G11,G1),
transform(G22,G2),
transform(G33,G3),
transform(G44,G4),
transform(G55,G5),
transform(G66,G6),
transform(G77,G7),
transform(G88,G8),
transform(G99,G9),
transform(H11,H1),
transform(H22,H2),
transform(H33,H3),
transform(H44,H4),
transform(H55,H5),
transform(H66,H6),
transform(H77,H7),
transform(H88,H8),
transform(H99,H9),
transform(I11,I1),
transform(I22,I2),
transform(I33,I3),
transform(I44,I4),
transform(I55,I5),
transform(I66,I6),
transform(I77,I7),
transform(I88,I8),
transform(I99,I9),
Sqr1 = [A1,A2,A3,B1,B2,B3,C1,C2,C3],
Sqr2 = [A4,A5,A6,B4,B5,B6,C4,C5,C6],
Sqr3 = [A7,A8,A9,B7,B8,B9,C7,C8,C9],
Sqr4 = [D1,D2,D3,E1,E2,E3,F1,F2,F3],
Sqr5 = [D4,D5,D6,E4,E5,E6,F4,F5,F6],
Sqr6 = [D7,D8,D9,E7,E8,E9,F7,F8,F9],
Sqr7 = [G1,G2,G3,H1,H2,H3,I1,I2,I3],
Sqr8 = [G4,G5,G6,H4,H5,H6,I4,I5,I6],
Sqr9 = [G7,G8,G9,H7,H8,H9,I7,I8,I9],
Row1 = [A1,A2,A3,A4,A5,A6,A7,A8,A9],
Row2 = [B1,B2,B3,B4,B5,B6,B7,B8,B9],
Row3 = [C1,C2,C3,C4,C5,C6,C7,C8,C9],
Row4 = [D1,D2,D3,D4,D5,D6,D7,D8,D9],
Row5 = [E1,E2,E3,E4,E5,E6,E7,E8,E9],
Row6 = [F1,F2,F3,F4,F5,F6,F7,F8,F9],
Row7 = [G1,G2,G3,G4,G5,G6,G7,G8,G9],
Row8 = [H1,H2,H3,H4,H5,H6,H7,H8,H9],
Row9 = [I1,I2,I3,I4,I5,I6,I7,I8,I9],
 
Col1 = [A1,B1,C1,D1,E1,F1,G1,H1,I1],
Col2 = [A2,B2,C2,D2,E2,F2,G2,H2,I2],
Col3 = [A3,B3,C3,D3,E3,F3,G3,H3,I3],
Col4 = [A4,B4,C4,D4,E4,F4,G4,H4,I4],
Col5 = [A5,B5,C5,D5,E5,F5,G5,H5,I5],
Col6 = [A6,B6,C6,D6,E6,F6,G6,H6,I6],
Col7 = [A7,B7,C7,D7,E7,F7,G7,H7,I7],
Col8 = [A8,B8,C8,D8,E8,F8,G8,H8,I8],
Col9 = [A9,B9,C9,D9,E9,F9,G9,H9,I9],
reduce(Row1,0,9,Row1RE),
reduce(Col1,0,9,Col1RE),
reduce(Sqr1,0,9,Sqr1RE),
reduce(Row2,0,9,Row2RE),
reduce(Col2,0,9,Col2RE),
reduce(Sqr2,0,9,Sqr2RE),
reduce(Row3,0,9,Row3RE),
reduce(Col3,0,9,Col3RE),
reduce(Sqr3,0,9,Sqr3RE),
reduce(Row4,0,9,Row4RE),
reduce(Col4,0,9,Col4RE),
reduce(Sqr4,0,9,Sqr4RE),
reduce(Row5,0,9,Row5RE),
reduce(Col5,0,9,Col5RE),
reduce(Sqr5,0,9,Sqr5RE),
reduce(Row6,0,9,Row6RE),
reduce(Col6,0,9,Col6RE),
reduce(Sqr6,0,9,Sqr6RE),
reduce(Row7,0,9,Row7RE),
reduce(Col7,0,9,Col7RE),
reduce(Sqr7,0,9,Sqr7RE),
reduce(Row8,0,9,Row8RE),
reduce(Col8,0,9,Col8RE),
reduce(Sqr8,0,9,Sqr8RE),
reduce(Row9,0,9,Row9RE),
reduce(Col9,0,9,Col9RE),
reduce(Sqr9,0,9,Sqr9RE),
nth0(0,Row1RE,A1Row1RE),
nth0(0,Col1RE,A1Col1RE),
nth0(0,Sqr1RE,A1Sqr1RE),
intersection(A1Row1RE,A1Col1RE,A1Sqr1RE,CompleteA1),
nth0(1,Row1RE,A2Row1RE),
nth0(0,Col2RE,A2Col2RE),
nth0(1,Sqr1RE,A2Sqr1RE),
intersection(A2Row1RE,A2Col2RE,A2Sqr1RE,CompleteA2),
nth0(2,Row1RE,A3Row1RE),
nth0(0,Col3RE,A3Col3RE),
nth0(2,Sqr1RE,A3Sqr1RE),
intersection(A3Row1RE,A3Col3RE,A3Sqr1RE,CompleteA3),
 
nth0(3,Row1RE,A4Row1RE),
nth0(0,Col4RE,A4Col4RE),
nth0(0,Sqr2RE,A4Sqr2RE),
intersection(A4Row1RE,A4Col4RE,A4Sqr2RE,CompleteA4),
nth0(4,Row1RE,A5Row1RE),
nth0(0,Col5RE,A5Col5RE),
nth0(1,Sqr2RE,A5Sqr2RE),
intersection(A5Row1RE,A5Col5RE,A5Sqr2RE,CompleteA5),
nth0(5,Row1RE,A6Row1RE),
nth0(0,Col6RE,A6Col6RE),
nth0(2,Sqr2RE,A6Sqr2RE),
intersection(A6Row1RE,A6Col6RE,A6Sqr2RE,CompleteA6),
nth0(6,Row1RE,A7Row1RE),
nth0(0,Col7RE,A7Col7RE),
nth0(0,Sqr3RE,A7Sqr3RE),
intersection(A7Row1RE,A7Col7RE,A7Sqr3RE,CompleteA7),
nth0(7,Row1RE,A8Row1RE),
nth0(0,Col8RE,A8Col8RE),
nth0(1,Sqr3RE,A8Sqr3RE),
intersection(A8Row1RE,A8Col8RE,A8Sqr3RE,CompleteA8),
 
nth0(8,Row1RE,A9Row1RE),
nth0(0,Col9RE,A9Col9RE),
nth0(2,Sqr3RE,A9Sqr3RE),
intersection(A9Row1RE,A9Col9RE,A9Sqr3RE,CompleteA9),
 
nth0(0,Row2RE,B1Row2RE),
nth0(1,Col1RE,B1Col1RE),
nth0(3,Sqr1RE,B1Sqr1RE),
intersection(B1Row2RE,B1Col1RE,B1Sqr1RE,CompleteB1),
 
nth0(1,Row2RE,B2Row2RE),
nth0(1,Col2RE,B2Col2RE),
nth0(4,Sqr1RE,B2Sqr1RE),
intersection(B2Row2RE,B2Col2RE,B2Sqr1RE,CompleteB2),
 
nth0(2,Row2RE,B3Row2RE),
nth0(1,Col3RE,B3Col3RE),
nth0(5,Sqr1RE,B3Sqr1RE),
intersection(B3Row2RE,B3Col3RE,B3Sqr1RE,CompleteB3),
 
nth0(3,Row2RE,B4Row2RE),
nth0(1,Col4RE,B4Col4RE),
nth0(3,Sqr2RE,B4Sqr2RE),
intersection(B4Row2RE,B4Col4RE,B4Sqr2RE,CompleteB4),
 
nth0(4,Row2RE,B5Row2RE),
nth0(1,Col5RE,B5Col5RE),
nth0(4,Sqr2RE,B5Sqr2RE),
intersection(B5Row2RE,B5Col5RE,B5Sqr2RE,CompleteB5),
nth0(5,Row2RE,B6Row2RE),
nth0(1,Col6RE,B6Col6RE),
nth0(5,Sqr2RE,B6Sqr2RE),
intersection(B6Row2RE,B6Col6RE,B6Sqr2RE,CompleteB6),
 
nth0(6,Row2RE,B7Row2RE),
nth0(1,Col7RE,B7Col7RE),
nth0(3,Sqr3RE,B7Sqr3RE),
intersection(B7Row2RE,B7Col7RE,B7Sqr3RE,CompleteB7),
 
nth0(7,Row2RE,B8Row2RE),
nth0(1,Col8RE,B8Col8RE),
nth0(4,Sqr3RE,B8Sqr3RE),
intersection(B8Row2RE,B8Col8RE,B8Sqr3RE,CompleteB8),
 
nth0(8,Row2RE,B9Row2RE),
nth0(1,Col9RE,B9Col9RE),
nth0(5,Sqr3RE,B9Sqr3RE),
intersection(B9Row2RE,B9Col9RE,B9Sqr3RE,CompleteB9),
nth0(0,Row3RE,C1Row3RE),
nth0(2,Col1RE,C1Col1RE),
nth0(6,Sqr1RE,C1Sqr1RE),
intersection(C1Row3RE,C1Col1RE,C1Sqr1RE,CompleteC1),
nth0(1,Row3RE,C2Row3RE),
nth0(2,Col2RE,C2Col2RE),
nth0(7,Sqr1RE,C2Sqr1RE),
intersection(C2Row3RE,C2Col2RE,C2Sqr1RE,CompleteC2),
nth0(2,Row3RE,C3Row3RE),
nth0(2,Col3RE,C3Col3RE),
nth0(8,Sqr1RE,C3Sqr1RE),
intersection(C3Row3RE,C3Col3RE,C3Sqr1RE,CompleteC3),
nth0(3,Row3RE,C4Row3RE),
nth0(2,Col4RE,C4Col4RE),
nth0(6,Sqr2RE,C4Sqr2RE),
intersection(C4Row3RE,C4Col4RE,C4Sqr2RE,CompleteC4),
nth0(4,Row3RE,C5Row3RE),
nth0(2,Col5RE,C5Col5RE),
nth0(7,Sqr2RE,C5Sqr2RE),
intersection(C5Row3RE,C5Col5RE,C5Sqr2RE,CompleteC5),
nth0(5,Row3RE,C6Row3RE),
nth0(2,Col6RE,C6Col6RE),
nth0(8,Sqr2RE,C6Sqr2RE),
intersection(C6Row3RE,C6Col6RE,C6Sqr2RE,CompleteC6),
nth0(6,Row3RE,C7Row3RE),
nth0(2,Col7RE,C7Col7RE),
nth0(6,Sqr3RE,C7Sqr3RE),
intersection(C7Row3RE,C7Col7RE,C7Sqr3RE,CompleteC7),
nth0(7,Row3RE,C8Row3RE),
nth0(2,Col8RE,C8Col8RE),
nth0(7,Sqr3RE,C8Sqr3RE),
intersection(C8Row3RE,C8Col8RE,C8Sqr3RE,CompleteC8),
nth0(8,Row3RE,C9Row3RE),
nth0(2,Col9RE,C9Col9RE),
nth0(8,Sqr3RE,C9Sqr3RE),
intersection(C9Row3RE,C9Col9RE,C9Sqr3RE,CompleteC9),
 
nth0(0,Row4RE,D1Row4RE),
nth0(3,Col1RE,D1Col1RE),
nth0(0,Sqr4RE,D1Sqr4RE),
intersection(D1Row4RE,D1Col1RE,D1Sqr4RE,CompleteD1),
nth0(1,Row4RE,D2Row4RE),
nth0(3,Col2RE,D2Col2RE),
nth0(1,Sqr4RE,D2Sqr4RE),
intersection(D2Row4RE,D2Col2RE,D2Sqr4RE,CompleteD2),
nth0(2,Row4RE,D3Row4RE),
nth0(3,Col3RE,D3Col3RE),
nth0(2,Sqr4RE,D3Sqr4RE),
intersection(D3Row4RE,D3Col3RE,D3Sqr4RE,CompleteD3),
nth0(3,Row4RE,D4Row4RE),
nth0(3,Col4RE,D4Col4RE),
nth0(0,Sqr5RE,D4Sqr5RE),
intersection(D4Row4RE,D4Col4RE,D4Sqr5RE,CompleteD4),
nth0(4,Row4RE,D5Row4RE),
nth0(3,Col5RE,D5Col5RE),
nth0(1,Sqr5RE,D5Sqr5RE),
intersection(D5Row4RE,D5Col5RE,D5Sqr5RE,CompleteD5),
nth0(5,Row4RE,D6Row4RE),
nth0(3,Col6RE,D6Col6RE),
nth0(2,Sqr5RE,D6Sqr5RE),
intersection(D6Row4RE,D6Col6RE,D6Sqr5RE,CompleteD6),
nth0(6,Row4RE,D7Row4RE),
nth0(3,Col7RE,D7Col7RE),
nth0(0,Sqr6RE,D7Sqr6RE),
intersection(D7Row4RE,D7Col7RE,D7Sqr6RE,CompleteD7),
nth0(7,Row4RE,D8Row4RE),
nth0(3,Col8RE,D8Col8RE),
nth0(1,Sqr6RE,D8Sqr6RE),
intersection(D8Row4RE,D8Col8RE,D8Sqr6RE,CompleteD8),
nth0(8,Row4RE,D9Row4RE),
nth0(3,Col9RE,D9Col9RE),
nth0(2,Sqr6RE,D9Sqr6RE),
intersection(D9Row4RE,D9Col9RE,D9Sqr6RE,CompleteD9),
nth0(0,Row5RE,E1Row5RE),
nth0(4,Col1RE,E1Col1RE),
nth0(3,Sqr4RE,E1Sqr4RE),
intersection(E1Row5RE,E1Col1RE,E1Sqr4RE,CompleteE1),
 
nth0(1,Row5RE,E2Row5RE),
nth0(4,Col2RE,E2Col2RE),
nth0(4,Sqr4RE,E2Sqr4RE),
intersection(E2Row5RE,E2Col2RE,E2Sqr4RE,CompleteE2),
 
nth0(2,Row5RE,E3Row5RE),
nth0(4,Col3RE,E3Col3RE),
nth0(5,Sqr4RE,E3Sqr4RE),
intersection(E3Row5RE,E3Col3RE,E3Sqr4RE,CompleteE3),
 
nth0(3,Row5RE,E4Row5RE),
nth0(4,Col4RE,E4Col4RE),
nth0(3,Sqr5RE,E4Sqr5RE),
intersection(E4Row5RE,E4Col4RE,E4Sqr5RE,CompleteE4),
 
nth0(4,Row5RE,E5Row5RE),
nth0(4,Col5RE,E5Col5RE),
nth0(4,Sqr5RE,E5Sqr5RE),
intersection(E5Row5RE,E5Col5RE,E5Sqr5RE,CompleteE5),
 
nth0(5,Row5RE,E6Row5RE),
nth0(4,Col6RE,E6Col6RE),
nth0(5,Sqr5RE,E6Sqr5RE),
intersection(E6Row5RE,E6Col6RE,E6Sqr5RE,CompleteE6),
 
nth0(6,Row5RE,E7Row5RE),
nth0(4,Col7RE,E7Col7RE),
nth0(3,Sqr6RE,_),
intersection(E7Row5RE,E7Col7RE,_,CompleteE7),
 
nth0(7,Row5RE,E8Row5RE),
nth0(4,Col8RE,E8Col8RE),
nth0(4,Sqr6RE,_),
intersection(E8Row5RE,E8Col8RE,_,CompleteE8),
 
nth0(8,Row5RE,E9Row5RE),
nth0(4,Col9RE,E9Col9RE),
nth0(5,Sqr6RE,E9Sqr6RE),
intersection(E9Row5RE,E9Col9RE,E9Sqr6RE,CompleteE9),
nth0(0,Row6RE,F1Row6RE),
nth0(5,Col1RE,F1Col1RE),
nth0(6,Sqr4RE,F1Sqr4RE),
intersection(F1Row6RE,F1Col1RE,F1Sqr4RE,CompleteF1),
nth0(1,Row6RE,F2Row6RE),
nth0(5,Col2RE,F2Col2RE),
nth0(7,Sqr4RE,F2Sqr4RE),
intersection(F2Row6RE,F2Col2RE,F2Sqr4RE,CompleteF2),
nth0(2,Row6RE,F3Row6RE),
nth0(5,Col3RE,F3Col3RE),
nth0(8,Sqr4RE,F3Sqr4RE),
intersection(F3Row6RE,F3Col3RE,F3Sqr4RE,CompleteF3),
nth0(3,Row6RE,F4Row6RE),
nth0(5,Col4RE,F4Col4RE),
nth0(6,Sqr5RE,F4Sqr5RE),
intersection(F4Row6RE,F4Col4RE,F4Sqr5RE,CompleteF4),
nth0(4,Row6RE,F5Row6RE),
nth0(5,Col5RE,F5Col5RE),
nth0(7,Sqr5RE,F5Sqr5RE),
intersection(F5Row6RE,F5Col5RE,F5Sqr5RE,CompleteF5),
nth0(5,Row6RE,F6Row6RE),
nth0(5,Col6RE,F6Col6RE),
nth0(8,Sqr5RE,F6Sqr5RE),
intersection(F6Row6RE,F6Col6RE,F6Sqr5RE,CompleteF6),
nth0(6,Row6RE,F7Row6RE),
nth0(5,Col7RE,F7Col7RE),
nth0(6,Sqr6RE,F7Sqr6RE),
intersection(F7Row6RE,F7Col7RE,F7Sqr6RE,CompleteF7),
nth0(7,Row6RE,F8Row6RE),
nth0(5,Col8RE,F8Col8RE),
nth0(7,Sqr6RE,F8Sqr6RE),
intersection(F8Row6RE,F8Col8RE,F8Sqr6RE,CompleteF8),
nth0(8,Row6RE,F9Row6RE),
nth0(5,Col9RE,F9Col9RE),
nth0(8,Sqr6RE,F9Sqr6RE),
intersection(F9Row6RE,F9Col9RE,F9Sqr6RE,CompleteF9),
nth0(0,Row7RE,G1Row7RE),
nth0(6,Col1RE,G1Col1RE),
nth0(0,Sqr7RE,G1Sqr7RE),
intersection(G1Row7RE,G1Col1RE,G1Sqr7RE,CompleteG1),
 
nth0(1,Row7RE,G2Row7RE),
nth0(6,Col2RE,G2Col2RE),
nth0(1,Sqr7RE,G2Sqr7RE),
intersection(G2Row7RE,G2Col2RE,G2Sqr7RE,CompleteG2),
nth0(2,Row7RE,G3Row7RE),
nth0(6,Col3RE,G3Col3RE),
nth0(2,Sqr7RE,G3Sqr7RE),
intersection(G3Row7RE,G3Col3RE,G3Sqr7RE,CompleteG3),
nth0(3,Row7RE,G4Row7RE),
nth0(6,Col4RE,G4Col4RE),
nth0(0,Sqr8RE,G4Sqr8RE),
intersection(G4Row7RE,G4Col4RE,G4Sqr8RE,CompleteG4),
nth0(4,Row7RE,G5Row7RE),
nth0(6,Col5RE,G5Col5RE),
nth0(1,Sqr8RE,G5Sqr8RE),
intersection(G5Row7RE,G5Col5RE,G5Sqr8RE,CompleteG5),
nth0(5,Row7RE,G6Row7RE),
nth0(6,Col6RE,G6Col6RE),
nth0(2,Sqr8RE,G6Sqr8RE),
intersection(G6Row7RE,G6Col6RE,G6Sqr8RE,CompleteG6),
nth0(6,Row7RE,G7Row7RE),
nth0(6,Col7RE,G7Col7RE),
nth0(0,Sqr9RE,G7Sqr9RE),
intersection(G7Row7RE,G7Col7RE,G7Sqr9RE,CompleteG7),
nth0(7,Row7RE,G8Row7RE),
nth0(6,Col8RE,G8Col8RE),
nth0(1,Sqr9RE,G8Sqr9RE),
intersection(G8Row7RE,G8Col8RE,G8Sqr9RE,CompleteG8),
nth0(8,Row7RE,G9Row7RE),
nth0(6,Col9RE,G9Col9RE),
nth0(2,Sqr9RE,G9Sqr9RE),
intersection(G9Row7RE,G9Col9RE,G9Sqr9RE,CompleteG9),
nth0(0,Row8RE,H1Row8RE),
nth0(7,Col1RE,H1Col1RE),
nth0(3,Sqr7RE,H1Sqr7RE),
intersection(H1Row8RE,H1Col1RE,H1Sqr7RE,CompleteH1),
nth0(1,Row8RE,H2Row8RE),
nth0(7,Col2RE,H2Col2RE),
nth0(4,Sqr7RE,H2Sqr7RE),
intersection(H2Row8RE,H2Col2RE,H2Sqr7RE,CompleteH2),
nth0(2,Row8RE,H3Row8RE),
nth0(7,Col3RE,H3Col3RE),
nth0(5,Sqr7RE,H3Sqr7RE),
intersection(H3Row8RE,H3Col3RE,H3Sqr7RE,CompleteH3),
nth0(3,Row8RE,H4Row8RE),
nth0(7,Col4RE,H4Col4RE),
nth0(3,Sqr8RE,H4Sqr8RE),
intersection(H4Row8RE,H4Col4RE,H4Sqr8RE,CompleteH4),
nth0(4,Row8RE,H5Row8RE),
nth0(7,Col5RE,H5Col5RE),
nth0(4,Sqr8RE,H5Sqr8RE),
intersection(H5Row8RE,H5Col5RE,H5Sqr8RE,CompleteH5),
nth0(5,Row8RE,H6Row8RE),
nth0(7,Col6RE,H6Col6RE),
nth0(5,Sqr8RE,H6Sqr8RE),
intersection(H6Row8RE,H6Col6RE,H6Sqr8RE,CompleteH6),
nth0(6,Row8RE,H7Row8RE),
nth0(7,Col7RE,H7Col7RE),
nth0(3,Sqr9RE,H7Sqr9RE),
intersection(H7Row8RE,H7Col7RE,H7Sqr9RE,CompleteH7),
nth0(7,Row8RE,H8Row8RE),
nth0(7,Col8RE,_),
nth0(4,Sqr9RE,H8Sqr9RE),
intersection(H8Row8RE,_,H8Sqr9RE,CompleteH8),
nth0(8,Row8RE,H9Row8RE),
nth0(7,Col9RE,H9Col9RE),
nth0(5,Sqr9RE,H9Sqr9RE),
intersection(H9Row8RE,H9Col9RE,H9Sqr9RE,CompleteH9),
nth0(0,Row9RE,I1Row9RE),
nth0(8,Col1RE,I1Col1RE),
nth0(6,Sqr7RE,I1Sqr7RE),
intersection(I1Row9RE,I1Col1RE,I1Sqr7RE,CompleteI1),
nth0(1,Row9RE,I2Row9RE),
nth0(8,Col2RE,I2Col2RE),
nth0(7,Sqr7RE,I2Sqr7RE),
intersection(I2Row9RE,I2Col2RE,I2Sqr7RE,CompleteI2),
nth0(2,Row9RE,I3Row9RE),
nth0(8,Col3RE,I3Col3RE),
nth0(8,Sqr7RE,I3Sqr7RE),
intersection(I3Row9RE,I3Col3RE,I3Sqr7RE,CompleteI3),
nth0(3,Row9RE,I4Row9RE),
nth0(8,Col4RE,I4Col4RE),
nth0(6,Sqr8RE,I4Sqr8RE),
intersection(I4Row9RE,I4Col4RE,I4Sqr8RE,CompleteI4),
nth0(4,Row9RE,I5Row9RE),
nth0(8,Col5RE,I5Col5RE),
nth0(7,Sqr8RE,I5Sqr8RE),
intersection(I5Row9RE,I5Col5RE,I5Sqr8RE,CompleteI5),
nth0(5,Row9RE,I6Row9RE),
nth0(8,Col6RE,I6Col6RE),
nth0(8,Sqr8RE,I6Sqr8RE),
intersection(I6Row9RE,I6Col6RE,I6Sqr8RE,CompleteI6),
nth0(6,Row9RE,I7Row9RE),
nth0(8,Col7RE,I7Col7RE),
nth0(6,Sqr9RE,I7Sqr9RE),
intersection(I7Row9RE,I7Col7RE,I7Sqr9RE,CompleteI7),
nth0(7,Row9RE,I8Row9RE),
nth0(8,Col8RE,I8Col8RE),
nth0(7,Sqr9RE,I8Sqr9RE),
intersection(I8Row9RE,I8Col8RE,I8Sqr9RE,CompleteI8),
nth0(8,Row9RE,I9Row9RE),
nth0(8,Col9RE,I9Col9RE),
nth0(8,Sqr9RE,I9Sqr9RE),
intersection(I9Row9RE,I9Col9RE,I9Sqr9RE,CompleteI9),
changeToDomain(AA1,CompleteA1),
changeToDomain(AA2,CompleteA2),
changeToDomain(AA3,CompleteA3),
changeToDomain(AA4,CompleteA4),
changeToDomain(AA5,CompleteA5),
changeToDomain(AA6,CompleteA6),
changeToDomain(AA7,CompleteA7),
changeToDomain(AA8,CompleteA8),
changeToDomain(AA9,CompleteA9),
changeToDomain(BB1,CompleteB1),
changeToDomain(BB2,CompleteB2),
changeToDomain(BB3,CompleteB3),
changeToDomain(BB4,CompleteB4),
changeToDomain(BB5,CompleteB5),
changeToDomain(BB6,CompleteB6),
changeToDomain(BB7,CompleteB7),
changeToDomain(BB8,CompleteB8),
changeToDomain(BB9,CompleteB9),
changeToDomain(CC1,CompleteC1),
changeToDomain(CC2,CompleteC2),
changeToDomain(CC3,CompleteC3),
changeToDomain(CC4,CompleteC4),
changeToDomain(CC5,CompleteC5),
changeToDomain(CC6,CompleteC6),
changeToDomain(CC7,CompleteC7),
changeToDomain(CC8,CompleteC8),
changeToDomain(CC9,CompleteC9),
changeToDomain(DD1,CompleteD1),
changeToDomain(DD2,CompleteD2),
changeToDomain(DD3,CompleteD3),
changeToDomain(DD4,CompleteD4),
changeToDomain(DD5,CompleteD5),
changeToDomain(DD6,CompleteD6),
changeToDomain(DD7,CompleteD7),
changeToDomain(DD8,CompleteD8),
changeToDomain(DD9,CompleteD9),
changeToDomain(EE1,CompleteE1),
changeToDomain(EE2,CompleteE2),
changeToDomain(EE3,CompleteE3),
changeToDomain(EE4,CompleteE4),
changeToDomain(EE5,CompleteE5),
changeToDomain(EE6,CompleteE6),
changeToDomain(EE7,CompleteE7),
changeToDomain(EE8,CompleteE8),
changeToDomain(EE9,CompleteE9),
changeToDomain(FF1,CompleteF1),
changeToDomain(FF2,CompleteF2),
changeToDomain(FF3,CompleteF3),
changeToDomain(FF4,CompleteF4),
changeToDomain(FF5,CompleteF5),
changeToDomain(FF6,CompleteF6),
changeToDomain(FF7,CompleteF7),
changeToDomain(FF8,CompleteF8),
changeToDomain(FF9,CompleteF9),
changeToDomain(GG1,CompleteG1),
changeToDomain(GG2,CompleteG2),
changeToDomain(GG3,CompleteG3),
changeToDomain(GG4,CompleteG4),
changeToDomain(GG5,CompleteG5),
changeToDomain(GG6,CompleteG6),
changeToDomain(GG7,CompleteG7),
changeToDomain(GG8,CompleteG8),
changeToDomain(GG9,CompleteG9),
changeToDomain(HH1,CompleteH1),
changeToDomain(HH2,CompleteH2),
changeToDomain(HH3,CompleteH3),
changeToDomain(HH4,CompleteH4),
changeToDomain(HH5,CompleteH5),
changeToDomain(HH6,CompleteH6),
changeToDomain(HH7,CompleteH7),
changeToDomain(HH8,CompleteH8),
changeToDomain(HH9,CompleteH9),
changeToDomain(II1,CompleteI1),
changeToDomain(II2,CompleteI2),
changeToDomain(II3,CompleteI3),
changeToDomain(II4,CompleteI4),
changeToDomain(II5,CompleteI5),
changeToDomain(II6,CompleteI6),
changeToDomain(II7,CompleteI7),
changeToDomain(II8,CompleteI8),
changeToDomain(II9,CompleteI9),
Solution = [AA1,AA2,AA3,AA4,AA5,AA6,AA7,AA8,AA9,
BB1,BB2,BB3,BB4,BB5,BB6,BB7,BB8,BB9,
CC1,CC2,CC3,CC4,CC5,CC6,CC7,CC8,CC9,
DD1,DD2,DD3,DD4,DD5,DD6,DD7,DD8,DD9,
EE1,EE2,EE3,EE4,EE5,EE6,EE7,EE8,EE9,
FF1,FF2,FF3,FF4,FF5,FF6,FF7,FF8,FF9,
GG1,GG2,GG3,GG4,GG5,GG6,GG7,GG8,GG9,
HH1,HH2,HH3,HH4,HH5,HH6,HH7,HH8,HH9,
II1,II2,II3,II4,II5,II6,II7,II8,II9],
Sqr11 = [AA1,AA2,AA3,BB1,BB2,BB3,CC1,CC2,CC3],
Sqr22 = [AA4,AA5,AA6,BB4,BB5,BB6,CC4,CC5,CC6],
Sqr33 = [AA7,AA8,AA9,BB7,BB8,BB9,CC7,CC8,CC9],
Sqr44 = [DD1,DD2,DD3,EE1,EE2,EE3,FF1,FF2,FF3],
Sqr55 = [DD4,DD5,DD6,EE4,EE5,EE6,FF4,FF5,FF6],
Sqr66 = [DD7,DD8,DD9,EE7,EE8,EE9,FF7,FF8,FF9],
Sqr77 = [GG1,GG2,GG3,HH1,HH2,HH3,II1,II2,II3],
Sqr88 = [GG4,GG5,GG6,HH4,HH5,HH6,II4,II5,II6],
Sqr99 = [GG7,GG8,GG9,HH7,HH8,HH9,II7,II8,II9],
Row11 = [AA1,AA2,AA3,AA4,AA5,AA6,AA7,AA8,AA9],
Row22 = [BB1,BB2,BB3,BB4,BB5,BB6,BB7,BB8,BB9],
Row33 = [CC1,CC2,CC3,CC4,CC5,CC6,CC7,CC8,CC9],
Row44 = [DD1,DD2,DD3,DD4,DD5,DD6,DD7,DD8,DD9],
Row55 = [EE1,EE2,EE3,EE4,EE5,EE6,EE7,EE8,EE9],
Row66 = [FF1,FF2,FF3,FF4,FF5,FF6,FF7,FF8,FF9],
Row77 = [GG1,GG2,GG3,GG4,GG5,GG6,GG7,GG8,GG9],
Row88 = [HH1,HH2,HH3,HH4,HH5,HH6,HH7,HH8,HH9],
Row99 = [II1,II2,II3,II4,II5,II6,II7,II8,II9],
Col11 = [AA1,BB1,CC1,DD1,EE1,FF1,GG1,HH1,II1],
Col22 = [AA2,BB2,CC2,DD2,EE2,FF2,GG2,HH2,II2],
Col33 = [AA3,BB3,CC3,DD3,EE3,FF3,GG3,HH3,II3],
Col44 = [AA4,BB4,CC4,DD4,EE4,FF4,GG4,HH4,II4],
Col55 = [AA5,BB5,CC5,DD5,EE5,FF5,GG5,HH5,II5],
Col66 = [AA6,BB6,CC6,DD6,EE6,FF6,GG6,HH6,II6],
Col77 = [AA7,BB7,CC7,DD7,EE7,FF7,GG7,HH7,II7],
Col88 = [AA8,BB8,CC8,DD8,EE8,FF8,GG8,HH8,II8],
Col99 = [AA9,BB9,CC9,DD9,EE9,FF9,GG9,HH9,II9],
valid([Row11, Row22, Row33, Row44, Row55, Row66, Row77, Row88, Row99, Col11, Col22, Col33, Col44, Col55, Col66, Col77, Col88, Col99, Sqr11, Sqr22, Sqr33, Sqr44, Sqr55, Sqr66, Sqr77, Sqr88, Sqr99]),
label(Solution).
valid_domain(List, Min, Max):-
List ins Min..Max.
valid([]).
valid([H|T]):-
all_different(H),
valid(T).